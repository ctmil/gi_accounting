<?xml version="1.0"?>
<openerp>
    <data>
	<!-- account_voucher.view_vendor_receipt_dialog_form -->

        <record id="res_branch_form_view_gi" model="ir.ui.view">
            <field name="name">res.branch.form.gi</field>
            <field name="model">res.branch</field>
            <field name="inherit_id" ref="branches.res_branch_form_view" />
            <field name="arch" type="xml">
		<field name="name" position="after">
			<group>	
				<field name="point_of_sale" />
			</group>
		</field>
	    </field>
	</record>

        <record id="account_invoice_form_gi" model="ir.ui.view">
            <field name="name">account.invoice.form.gi</field>
            <field name="model">account.invoice</field>
            <field name="inherit_id" ref="account.invoice_form" />
            <field name="arch" type="xml">
                <field name="journal_id" position="after">
                        <field name="point_of_sale" readonly="1"/>
                </field>
            </field>
        </record>

        <record id="account_invoice_tree_gi" model="ir.ui.view">
            <field name="name">account.invoice.tree.gi</field>
            <field name="model">account.invoice</field>
            <field name="inherit_id" ref="account.invoice_tree" />
            <field name="arch" type="xml">
                <field name="state" position="after">
                        <field name="is_debit_note"/>
                </field>
            </field>
        </record>

        <record id="account_responsabilities_mapping_tree_view" model="ir.ui.view">
            <field name="name">account.responsabilities.mapping.tree</field>
            <field name="model">account.responsabilities.mapping</field>
            <field name="arch" type="xml">
                <tree string="Responsabilidades Fiscales" >
                        <field name="name" />
                        <field name="responsability_id" />
                        <field name="journal_id" />
                        <field name="journal_type" readonly="1"/>
                        <field name="point_of_sale" readonly="1" />
                        <field name="is_debit_note" readonly="1" />
                </tree>
            </field>
        </record>

        <record id="account_responsabilities_mapping_form_view" model="ir.ui.view">
            <field name="name">account.responsabilities.mapping.form</field>
            <field name="model">account.responsabilities.mapping</field>
            <field name="arch" type="xml">
                <form string="Responsabilidades Fiscales" >
			<group>
	                        <field name="name" />
	                        <field name="responsability_id" />
	                        <field name="journal_id" />
	                        <field name="journal_type" readonly="1"/>
	                        <field name="point_of_sale" readonly="1"/>
                        	<field name="is_debit_note" readonly="1" />
			</group>
                </form>
            </field>
        </record>



        <record id="action_resp_mapping" model="ir.actions.act_window">
            <field name="name">Responsabilidades Fiscles</field>
            <field name="res_model">account.responsabilities.mapping</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>

        <menuitem action="action_resp_mapping" id="menu_resp_mapping" 
                parent="account.menu_configuration_misc" sequence="3" />


        <record id="action_invoice_tree_nd" model="ir.actions.act_window">
            <field name="name">Notas de Debito</field>
            <field name="res_model">account.invoice</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,calendar,graph</field>
            <field eval="False" name="view_id"/>
            <field name="domain">[('type','=','out_invoice')]</field>
            <field name="context">{'default_type':'out_invoice', 'type':'out_invoice', 'journal_type': 'sale','debit_note': True}</field>
            <field name="search_view_id" ref="account.view_account_invoice_filter"/>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Clickee para crear una nota de debito.
              </p>
            </field>
        </record>

        <record id="action_invoice_tree_nd_view1" model="ir.actions.act_window.view">
            <field eval="1" name="sequence"/>
            <field name="view_mode">tree</field>
            <field name="act_window_id" ref="action_invoice_tree_nd"/>
        </record>

        <record id="action_invoice_tree_nd_view2" model="ir.actions.act_window.view">
            <field eval="2" name="sequence"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="account.invoice_form"/>
            <field name="act_window_id" ref="action_invoice_tree_nd"/>
        </record>

        <menuitem action="action_invoice_tree_nd" id="menu_action_invoice_tree_nd" parent="account.menu_finance_receivables"/>

        <record id="account_journal_form_view_gi" model="ir.ui.view">
            <field name="name">account.journal.form.gi</field>
            <field name="model">account.journal</field>
            <field name="inherit_id" ref="account.view_account_journal_form" />
            <field name="arch" type="xml">
		<field name="type" position="after">
			<group>	
				<field name="is_debit_note" />
			</group>
		</field>
	    </field>
	</record>

	<!-- A partir de aca -->

        <record id="account_caja_diaria_view" model="ir.ui.view">
            <field name="name">Caja Diaria Form</field>
            <field name="model">account.caja.diaria</field>
            <field name="arch" type="xml">
		<form string="Listado de movimientos de caja">
			<header>
				<button name="open_account_movimientos_caja" type="object"
					string="Abrir" class="oe_default" states="draft" />
				<button name="compute_account_movimientos_caja" type="object"
					string="Cerrar" class="oe_default" states="open" />
				<field  name="state" widget="statusbar" />
			</header>
			<group>
				<field name="date" />
				<field name="branch_id" />
				<field name="journal_ids">
					<tree string="Métodos de Pago" readonly="1">
						<field name="journal_id" string="Método de Pago" />
						<field name="previous_balance" string="Saldo Anterior" />
						<field name="debit" string="Monto" />
						<field name="end_balance" string="Saldo Final" />
					</tree>
				</field>
				<field name="line_ids">
					<tree string="Movimientos" readonly="1">
						<field name="caja_journal_id" /> 
						<field name="account_move_line_id" /> 
						<field name="account_id" /> 
						<field name="partner_id" /> 
						<field name="invoice" /> 
						<field name="debit" /> 
					</tree>
				</field>
			</group>
		</form>
            </field>
        </record>

        <record id="account_caja_diaria_tree" model="ir.ui.view">
            <field name="name">Caja Diaria Tree</field>
            <field name="model">account.caja.diaria</field>
            <field name="arch" type="xml">
		<tree string="Cajas Diarias">
			<field name="date" />
			<field name="branch_id" />
			<field name="state" />
		</tree>
            </field>
        </record>

        <record id="action_account_caja_diaria" model="ir.actions.act_window">
            <field name="name">Cajas Diarias</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">account.caja.diaria</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <!-- field name="target">new</field -->
            <!-- field name="view_id" ref="account_caja_diaria_view"/ -->
        </record>

        <menuitem
            name="Cajas Diarias"
            parent="account.menu_finance_receivables"
            action="action_account_caja_diaria"
            id="menu_account_caja_diaria"
            icon="STOCK_PRINT"/>

	<!-- Fin a partir de aca -->

    </data>
</openerp>
